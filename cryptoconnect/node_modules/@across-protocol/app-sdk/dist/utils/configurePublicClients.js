import { createPublicClient, http, webSocket } from "viem";
// creates a mapping chainId => publicClient
export function configurePublicClients(chains, pollingInterval, // milliseconds
rpcUrls, transports) {
    return new Map(chains.map((chain) => {
        const rpcUrl = rpcUrls?.[chain.id];
        const customTransport = transports?.[chain.id];
        const transport = customTransport ??
            (rpcUrl?.startsWith("ws") ? webSocket(rpcUrl) : http(rpcUrl));
        return [
            chain.id,
            createPublicClient({
                chain,
                pollingInterval,
                key: chain.id.toString(),
                transport,
                batch: {
                    multicall: true,
                },
            }),
        ];
    }));
}
//# sourceMappingURL=configurePublicClients.js.map