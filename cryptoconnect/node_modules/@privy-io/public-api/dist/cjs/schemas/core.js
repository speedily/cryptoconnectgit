"use strict";var e=require("bs58"),r=require("ethers"),s=require("libphonenumber-js/max"),t=require("zod");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=/*#__PURE__*/i(e);const o=t.z.string({required_error:"Privy DID must be included",invalid_type_error:"Privy DID is not a valid string"}).min(1).transform((e=>e.replace("did:privy:",""))),n=t.z.string({required_error:"Email address must be provided",invalid_type_error:"Email address must be a valid string"}).email("Invalid email address").transform((e=>e.toLowerCase())),a=t.z.string({required_error:"Verification code must be provided",invalid_type_error:"Invalid verification code"}).length(6,"Verification code must have 6 digits."),u=t.z.string({required_error:"Ethereum address must be provided",invalid_type_error:"Invalid Ethereum address"}).transform(((e,r)=>p(e)||(r.addIssue({code:t.z.ZodIssueCode.custom,message:"Invalid Ethereum address"}),t.z.NEVER))),l=t.z.string({required_error:"Solana address must be provided",invalid_type_error:"Invalid Solana address"}).trim().transform(((e,r)=>{try{d.default.decode(e)}catch(e){return r.addIssue({code:t.z.ZodIssueCode.custom,message:"Invalid Solana address"}),t.z.NEVER}return e})),m=t.z.string({required_error:"Phone number must be included",invalid_type_error:"Phone number is not a valid string"}).refine((e=>{try{return void 0!==c(e)}catch(e){return!1}}),{message:"Phone number is not valid"}).transform((e=>c(e)||""));function c(e){let r=s.parsePhoneNumber(e,"US");if(r?.isPossible())return r.formatInternational()}function p(e){if("string"==typeof e)try{return r.ethers.utils.getAddress(e.trim())}catch(e){}}const v=t.z.object({mode:t.z.enum(["no-signup","login-or-sign-up"]).optional()});exports.AuthenticateMode=v,exports.Email=n,exports.PasswordlessCode=a,exports.PhoneNumber=m,exports.SolanaWalletAddress=l,exports.UserId=o,exports.WalletAddress=u,exports.isValidAddress=function(e){return!!p(e)},exports.normalizeEthereumAddress=p,exports.normalizePhoneNumber=c;
