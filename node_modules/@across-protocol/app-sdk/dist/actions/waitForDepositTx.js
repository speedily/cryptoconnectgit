import { getDepositFromLogs } from "./getDepositFromLogs.js";
import { NoDepositLogError } from "../errors/index.js";
export async function waitForDepositTx(params) {
    const { transactionHash, originChainId, publicClient } = params;
    const receipt = await publicClient.waitForTransactionReceipt({
        hash: transactionHash,
    });
    const depositLog = getDepositFromLogs({ originChainId, receipt });
    if (!depositLog || !depositLog.depositId) {
        throw new NoDepositLogError(receipt.transactionHash, publicClient.chain.id);
    }
    const depositId = depositLog.depositId;
    return {
        depositTxReceipt: receipt,
        depositId,
    };
}
//# sourceMappingURL=waitForDepositTx.js.map